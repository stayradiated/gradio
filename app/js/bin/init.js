// Generated by CoffeeScript 1.6.3
(function() {
  var $, NODEJS, app, win;

  NODEJS = process.title === 'node';

  if (NODEJS) {
    console.log('Running in Node-Webkit');
  } else {
    console.log('Running in Browser');
  }

  $ = require('jqueryify');

  if (NODEJS) {
    global.document = document;
    global.$ = $;
    global.NODEJS = NODEJS;
    app = require('./js/bin/app');
  } else {
    global.NODEJS = NODEJS;
    app = global.app = require('./app.coffee');
  }

  global.server = 'localhost';

  global.port = 8080;

  app.init();

  if (NODEJS) {
    win = require('nw.gui').Window.get();
    $(document).on('keydown', function(e) {
      switch (e.keyCode) {
        case 82:
          if (e.ctrlKey) {
            return win.reloadDev();
          }
          break;
        case 68:
          if (e.ctrlKey) {
            return win.showDevTools();
          }
      }
    });
  }

}).call(this);
